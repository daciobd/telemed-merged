# Porta do gateway (Express)
PORT=3000
NODE_ENV=production

# Liga/desliga o módulo de precificação
# true = UI aparece e /api/auction funciona
# false = UI oculta e /api/auction responde 503
FEATURE_PRICING=true

# URL do serviço de leilão (BidConnect)
# ⚠️ IMPORTANTE: Escolha o formato correto conforme a API do BidConnect
#
# Opção A - BidConnect expõe rotas em /api (RECOMENDADO):
#   AUCTION_SERVICE_URL=https://seu-bidconnect.repl.co/api
#   → O gateway NÃO reescreve o path (pathRewrite desativado)
#   → Requisição: /api/auction/health → https://seu-bidconnect.repl.co/api/health
#
# Opção B - BidConnect expõe rotas na raiz:
#   AUCTION_SERVICE_URL=https://seu-bidconnect.repl.co
#   → O gateway REESCREVE o path (remove /api/auction)
#   → Requisição: /api/auction/health → https://seu-bidconnect.repl.co/health
#
# Teste primeiro: curl $AUCTION_SERVICE_URL/health
AUCTION_SERVICE_URL=https://SEU-BIDCONNECT-URL.repl.co/api

# Mesma secret em TODOS os serviços que validam JWT
# (substitua por uma string >= 32 chars em produção)
JWT_SECRET=troque_esta_secret_no_ambiente_real

# Rate limit por minuto no gateway (proteção básica)
RATE_LIMIT_PER_MIN=600


# Importante: nunca coloque a secret real aqui.
# No Replit, você cadastra a versão real em Secrets; localmente, no .env (não commitado).

# Health Endpoints para Diagnóstico:
# GET /health → Info do gateway + feature flags
# GET /api/auction/health → Health local do proxy (não consulta downstream)
