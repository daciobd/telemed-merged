<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Termos de Uso & Privacidade - TeleMed Piloto</title>
  <style>
    body { font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Arial; background: #0b1020; color: #eaf0ff; margin: 0; padding: 20px; }
    .container { max-width: 900px; margin: 0 auto; }
    .header { text-align: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 1px solid #21304b; }
    h1 { margin: 0 0 8px; color: #1c7bff; font-size: 2.5rem; }
    .subtitle { color: #b9c2e2; font-size: 1.1rem; }
    .pilot-warning { background: #2a2410; border: 1px solid #53461a; color: #ffd27b; padding: 20px; border-radius: 12px; margin: 24px 0; }
    .pilot-warning strong { display: block; margin-bottom: 8px; font-size: 1.1rem; }
    .section { background: #121935; border: 1px solid rgba(255,255,255,.08); border-radius: 12px; padding: 24px; margin: 24px 0; }
    h2 { color: #4da3ff; margin: 0 0 16px; }
    h3 { color: #79c7ff; margin: 24px 0 12px; }
    ul, ol { padding-left: 20px; }
    li { margin: 8px 0; }
    .highlight { background: rgba(28, 123, 255, 0.1); padding: 16px; border-radius: 8px; border-left: 4px solid #1c7bff; margin: 16px 0; }
    .consent-form { background: #0e2720; border: 1px solid #1a3e33; border-radius: 12px; padding: 24px; margin: 32px 0; }
    .checkbox-wrapper { display: flex; align-items: flex-start; gap: 12px; margin: 16px 0; }
    input[type="checkbox"] { margin-top: 2px; }
    .btn { background: #1c7bff; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .btn-secondary { background: transparent; border: 1px solid #374151; color: #b9c2e2; }
    a { color: #4da3ff; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .date { color: #9fb1da; font-style: italic; margin-top: 24px; text-align: center; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Termos de Uso & Privacidade</h1>
      <p class="subtitle">TeleMed - Piloto Set/Out 2025</p>
    </div>

    <div class="pilot-warning">
      <strong>🧪 AMBIENTE DE PILOTO - LEIA COM ATENÇÃO</strong>
      Esta é uma versão de testes da plataforma TeleMed. Os dados inseridos serão utilizados apenas para validação técnica e descartados após o piloto. NÃO insira informações pessoais reais.
    </div>

    <div class="section">
      <h2>1. Finalidade do Piloto</h2>
      <p>O presente piloto tem como objetivo <strong>testar e validar</strong> as funcionalidades da plataforma TeleMed, incluindo:</p>
      <ul>
        <li>Fluxo de cadastro e autenticação</li>
        <li>Sistema de pedidos e aceite de consultas</li>
        <li>Qualidade das videochamadas</li>
        <li>Funcionalidades do "Dr. AI" (assistente de especialidades)</li>
        <li>Estabilidade geral da plataforma</li>
      </ul>
      
      <div class="highlight">
        <strong>Importante:</strong> Este ambiente NÃO substitui atendimento médico real. Todas as consultas são simulações para fins de teste.
      </div>
    </div>

    <div class="section">
      <h2>2. Base Legal e Consentimento</h2>
      <p><strong>Base legal:</strong> Consentimento explícito (Art. 7º, I da LGPD)</p>
      <p>Ao participar do piloto, você concorda expressamente com:</p>
      <ol>
        <li>O uso dos seus dados apenas para os fins descritos nestes termos</li>
        <li>O descarte dos dados ao final do período de testes</li>
        <li>A natureza experimental do ambiente</li>
        <li>A não utilização para fins médicos reais</li>
      </ol>
    </div>

    <div class="section">
      <h2>3. Dados Coletados e Minimização</h2>
      <h3>Dados coletados:</h3>
      <ul>
        <li><strong>Identificação básica:</strong> nome, e-mail (para autenticação)</li>
        <li><strong>Perfil profissional:</strong> CRM e especialidade (apenas médicos)</li>
        <li><strong>Dados de uso:</strong> logs de navegação, tempo de sessão, cliques</li>
        <li><strong>Feedback:</strong> avaliações NPS, comentários sobre a plataforma</li>
        <li><strong>Dados técnicos:</strong> qualidade de conexão, erros do sistema</li>
      </ul>
      
      <h3>NÃO coletamos:</h3>
      <ul>
        <li>CPF, RG ou documentos oficiais</li>
        <li>Dados médicos ou de saúde reais</li>
        <li>Conteúdo das conversas durante videochamadas</li>
        <li>Informações financeiras</li>
      </ul>

      <div class="highlight">
        <strong>Princípio da Minimização:</strong> Coletamos apenas dados essenciais para testar as funcionalidades da plataforma.
      </div>
    </div>

    <div class="section">
      <h2>4. Período de Retenção e Descarte</h2>
      <p><strong>Duração do piloto:</strong> Setembro a Outubro de 2025</p>
      <p><strong>Retenção dos dados:</strong> Máximo de <strong>30 dias</strong> após o término do piloto</p>
      
      <h3>Processo de descarte:</h3>
      <ol>
        <li><strong>Anonimização:</strong> Remoção de identificadores pessoais</li>
        <li><strong>Purga completa:</strong> Exclusão de todos os registros do banco</li>
        <li><strong>Logs de sistema:</strong> Mascaramento de informações pessoais</li>
        <li><strong>Backups:</strong> Exclusão de todas as cópias de segurança</li>
      </ol>
    </div>

    <div class="section">
      <h2>5. Seus Direitos (LGPD)</h2>
      <p>Como titular dos dados, você possui os seguintes direitos:</p>
      <ul>
        <li><strong>Acesso:</strong> Solicitar quais dados temos sobre você</li>
        <li><strong>Correção:</strong> Solicitar correção de dados incorretos</li>
        <li><strong>Exclusão:</strong> Solicitar exclusão imediata dos seus dados</li>
        <li><strong>Revogação:</strong> Retirar seu consentimento a qualquer momento</li>
        <li><strong>Portabilidade:</strong> Solicitar exportação dos seus dados</li>
      </ul>
      
      <p><strong>Como exercer:</strong> Entre em contato através do e-mail <a href="mailto:piloto@telemed.com">piloto@telemed.com</a> ou pelo chat de suporte na plataforma.</p>
    </div>

    <div class="section">
      <h2>6. Segurança e Proteção</h2>
      <ul>
        <li>Criptografia TLS 1.3 em todas as comunicações</li>
        <li>Acesso restrito aos dados por equipe técnica autorizada</li>
        <li>Logs de auditoria para monitorar acessos</li>
        <li>Ambiente isolado da produção</li>
        <li>Backups criptografados com retenção limitada</li>
      </ul>
    </div>

    <div class="section">
      <h2>7. Limitações de Responsabilidade</h2>
      <div class="highlight">
        <strong>ATENÇÃO:</strong> Esta é uma plataforma em desenvolvimento para fins de teste.
      </div>
      
      <ul>
        <li>Não nos responsabilizamos por instabilidades técnicas</li>
        <li>O serviço pode ser interrompido a qualquer momento</li>
        <li>Não há garantia de disponibilidade 24/7</li>
        <li>NÃO use para emergências médicas reais</li>
        <li>Em caso de urgência médica, procure um pronto-socorro</li>
      </ul>
    </div>

    <div class="consent-form">
      <h2 style="color: #79f2a6; margin-top: 0;">Consentimento Explícito</h2>
      <p>Para participar do piloto TeleMed, confirme que você:</p>
      
      <div class="checkbox-wrapper">
        <input type="checkbox" id="consent-1" required>
        <label for="consent-1">Li e compreendi que este é um <strong>ambiente de teste</strong> e não deve ser usado para atendimento médico real</label>
      </div>
      
      <div class="checkbox-wrapper">
        <input type="checkbox" id="consent-2" required>
        <label for="consent-2">Concordo com a coleta e uso dos meus dados conforme descrito nos termos acima</label>
      </div>
      
      <div class="checkbox-wrapper">
        <input type="checkbox" id="consent-3" required>
        <label for="consent-3">Entendo que meus dados serão <strong>descartados em até 30 dias</strong> após o término do piloto</label>
      </div>
      
      <div class="checkbox-wrapper">
        <input type="checkbox" id="consent-4" required>
        <label for="consent-4">Comprometo-me a <strong>NÃO inserir dados pessoais reais</strong> (CPF, RG, informações médicas verdadeiras)</label>
      </div>
      
      <div style="margin-top: 24px; display: flex; gap: 12px; flex-wrap: wrap;">
        <button id="accept-terms" class="btn" disabled>Aceitar e Continuar</button>
        <button class="btn btn-secondary" onclick="history.back()">Voltar</button>
      </div>
    </div>

    <div class="date">
      <p>Versão 1.0 - Válida para o Piloto Set/Out 2025<br>
      Última atualização: 16 de setembro de 2025</p>
    </div>
  </div>

  <script src="/js/feature-flags.js"></script>
  <script src="/js/audit-logger.js"></script>
  <script>
    // Controle do consentimento
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    const acceptButton = document.getElementById('accept-terms');
    
    function updateAcceptButton() {
      const allChecked = Array.from(checkboxes).every(cb => cb.checked);
      acceptButton.disabled = !allChecked;
    }
    
    checkboxes.forEach(cb => {
      cb.addEventListener('change', updateAcceptButton);
    });
    
    acceptButton.addEventListener('click', function() {
      // Registrar consentimento
      AuditLogger.logAuth('consent_given', {
        success: true,
        consent_version: '1.0',
        consent_items: Array.from(checkboxes).length
      });
      
      // Salvar no localStorage
      localStorage.setItem('telemed_consent', JSON.stringify({
        version: '1.0',
        timestamp: new Date().toISOString(),
        checkboxes_count: checkboxes.length
      }));
      
      // Redirecionar para cadastro ou página anterior
      const returnUrl = new URLSearchParams(window.location.search).get('return');
      window.location.href = returnUrl || '/cadastro.html';
    });

    // Log da visualização
    AuditLogger.log('terms_viewed', {
      referrer: document.referrer,
      return_url: new URLSearchParams(window.location.search).get('return')
    });
  </script>
</body>
</html>